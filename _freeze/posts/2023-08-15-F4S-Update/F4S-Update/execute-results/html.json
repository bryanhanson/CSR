{
  "hash": "8c889e136fe687a1810bd63e3173661a",
  "result": {
    "markdown": "---\ntitle: \"FOSS4Spectroscopy Update\"\ndescription: \"What's changed in a year?\"\ndate: \"2023-08-15\"\ncategories: [FOSS]\nformat:\n  html\n---\n\n\nYesterday I pushed a major update to the [FOSS for Spectroscopy](https://bryanhanson.github.io/FOSS4Spectroscopy/) web site.  Remember that this is a lightly curated and imperfect process; I have some scripts that automate the discovery of packages, but there is still a considerable amount of manual inspection and decision making.  If you think I've missed a package, please let me know.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n\nIt's been nearly a year, and there are a number of new entries. Let's do a quick comparison of the results from November 2022 versus August 2023.  Back in November 2022 there were 246 packages; nearly a year later there are 287. @fig-venn shows a Venn diagram of the changes.\n\n\n::: {.cell}\n\n:::\n\n\n![Venn diagram comparing the two sets of packages](Venn.png){#fig-venn width=60%}\n\n## Package Language\n\nSoftware development in spectroscopy is clearly actively occurring in the Python ecosystem; R has stalled (see @tbl-lang).  Interpretation of this observation is challenging.  A few thoughts:\n\n* One could claim that the R ecosystem for spectroscopy is mature and further development is naturally going to be limited.\n* The growing popularity of the Python language surely contributes significantly.\n* One motivation for people to write packages is to learn the language and the package delivery system.  There's nothing wrong with these motivations, however this leads to packages that largely overlap in their features.\n\n\n::: {.cell}\n\n:::\n\n::: {#tbl-lang .cell tbl-cap='Package language, 2022 vs 2023.'}\n::: {.cell-output-display}\n`````{=html}\n<table quarto-disable-processing=\"true\" class=\"table table-striped table-bordered\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> language </th>\n   <th style=\"text-align:right;\"> Nov 2022 </th>\n   <th style=\"text-align:right;\"> Aug 2023 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Python </td>\n   <td style=\"text-align:right;\"> 162 </td>\n   <td style=\"text-align:right;\"> 198 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> R </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 61 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C++ </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Java </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Julia </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Qt </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C-shell </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> C# </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fortran </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Go </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> html </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> JavaScript </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> TypeScript </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> XML </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Package Focus\n\n@tbl-focus shows the change in package focus.  Most categories grew modestly.\n\n\n::: {.cell}\n\n:::\n\n::: {#tbl-focus .cell tbl-cap='Package focus, 2022 vs 2023.'}\n::: {.cell-output-display}\n`````{=html}\n<table quarto-disable-processing=\"true\" class=\"table table-striped table-bordered\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> category </th>\n   <th style=\"text-align:right;\"> Nov 2022 </th>\n   <th style=\"text-align:right;\"> Aug 2023 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Any </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Data Sharing </td>\n   <td style=\"text-align:right;\"> 33 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> EEM </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> EPR, ESR </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> IR (all flavors) </td>\n   <td style=\"text-align:right;\"> 35 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Raman </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> UV-Vis, UV, Vis </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> LIBS </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Muon </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> PES </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> XRF, XAS </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> NMR </td>\n   <td style=\"text-align:right;\"> 87 </td>\n   <td style=\"text-align:right;\"> 97 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Time Series </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Personal Perspective\n\nI've curated this site for several years now.  One thing that is clear is that there is a lot of duplication of effort and features. I mentioned above a few reasons for this, but at some point it makes more sense to add to an existing package than to write one from scratch.  However, this can only happen if people look around for existing software first.  That of course is one purpose of the [FOSS for Spectroscopy](https://bryanhanson.github.io/FOSS4Spectroscopy/) web site.\n\nAs I look at it,\n\n* One-dimensional spectroscopic techniques produce collections of x,y data, usually spectra[^1], and can thus be stored in a matrix. *In terms of organization there's nothing different between an IR spectrum and a UV-Vis spectrum.*\n* Two-dimensional techniques produce data that can be stored in one of two ways:\n  + One spectrum (or one wavelength) can be stored as matrix, so a set of spectra is a stack of matrices (termed an array in some languages).  Think of 2D NMR spectra: one element of the stack is a single 2D spectrum.\n  + Alternatively, individual spectra can be stored in a matrix and an additional data structure provides a key to how each spectrum relates to the others.  Think of a Raman image: spectra are collected over a set of x,y locations.\n\nThis design decision is the core of building a package.  Once you have decided on a structure:\n\n* You need import methods, these are always tedious to write.\n  + Broadly accepted formats, like JCAMP-DX or plain old csv.\n  + Manufacturer specific formats, some of which may be poorly documented.\n* You need processing methods.\n  + Widely used methods, like normalization and smoothing.\n  + Technique specific methods, such as zero-filling.\n* You need analysis methods.\n  + Common techniques like PCA.\n  + Analysis unique to a specific technique.\n* You need visualization methods.\n\nIn an ideal world, a data storage structure is chosen and everything else can be built later, quickly at first and then more slowly.  The reality however is that people keep reinventing most of the wheel.  I suppose this is not too different from people inventing entirely new computer languages...\n\n[^1]: I say \"usually spectra\" because for some instruments, depending upon the goal of the package, one may store raw data that must be transformed in a separate step.  The best example is raw time-domain NMR data which must be Fourier transformed into frequency-domain spectra before analysis.",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}